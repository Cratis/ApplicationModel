/*---------------------------------------------------------------------------------------------
 *  **DO NOT EDIT** - This file is an automatically generated file.
 *--------------------------------------------------------------------------------------------*/

// eslint-disable-next-line header/header
{{#if IsEnumerable}}
import { QueryFor, QueryResultWithState, SortingForQuery, Paging } from '@cratis/applications/queries';
import { useQuery, useQueryWithPaging, PerformQuery, SetSorting, SetPage } from '@cratis/applications.react/queries';
{{else}}
import { QueryFor, QueryResultWithState } from '@cratis/applications/queries';
import { useQuery, PerformQuery, SetSorting} from '@cratis/applications.react/queries';
{{/if}}
{{#Imports}}
import { {{Type}} } from '{{Module}}';
{{/Imports}}
import Handlebars from 'handlebars';

const routeTemplate = Handlebars.compile('{{{Route}}}');

{{!-- {{#if IsEnumerable}}
class {{Name}}SortBy {
{{#Properties}}
    private _{{camelCase Name}}: SortingForQuery<{{../Name}}>;
{{/Properties}}

    constructor(readonly query: {{Name}}) {
{{#Properties}}
        this._{{camelCase Name}} = new SortingForQuery({{../Name}}, query);
{{/Properties}}
    }

{{#Properties}}
    {{camelCase Name}}(): SortingForQuery<{{../Name}}> {
        return this._{{camelCase Name}};
    }
{{/Properties}}
}
{{/if}} --}}

{{#if Arguments.[0]}}
export interface {{Name}}Arguments {
    {{#Arguments}}
    {{#if IsOptional}}
    {{camelcase Name}}?: {{Type}};
    {{else}}
    {{camelcase Name}}: {{Type}};
    {{/if}}
    {{/Arguments}}
}

{{#if IsEnumerable}}
export class {{Name}} extends QueryFor<{{Model}}[], {{Name}}Arguments> {
{{else}}
export class {{Name}} extends QueryFor<{{Model}}, {{Name}}Arguments> {
{{/if}}
{{else}}
{{#if IsEnumerable}}
export class {{Name}} extends QueryFor<{{Model}}[]> {
{{else}}
export class {{Name}} extends QueryFor<{{Model}}> {
{{/if}}
{{/if}}
    readonly route: string = '{{{Route}}}';
    readonly routeTemplate: Handlebars.TemplateDelegate = routeTemplate;
{{#if IsEnumerable}}
    readonly defaultValue: {{Model}}[] = [];
    {{!-- readonly _sortBy: {{Name}}SortBy; --}}
{{else}}
    readonly defaultValue: {{Model}} = {} as any;
{{/if}}

    constructor() {
        super({{Constructor}}, {{lowercase IsEnumerable}});
{{!-- {{#if IsEnumerable}}        
        this._sortBy = new {{Name}}SortBy(this);
{{/if}} --}}
    }

    get requestArguments(): string[] {
        return [
            {{#Arguments}}
            '{{camelcase Name}}',
            {{/Arguments}}
        ];
    }

{{!-- {{#if IsEnumerable}}
    get sortBy(): {{Name}}SortBy {
        return this._sortBy;
    }
{{/if}} --}}

{{#if Arguments.[0]}}
{{#if IsEnumerable}}
    static use(args?: {{Name}}Arguments): [QueryResultWithState<{{Model}}[]>, PerformQuery<{{Name}}Arguments>] {
        return useQuery<{{Model}}[], {{Name}}, {{Name}}Arguments>({{Name}}, args);
    }

    static useWithPaging(page:number, pageSize: number, args?: {{Name}}Arguments): [QueryResultWithState<{{Model}}[]>, number, PerformQuery, SetSorting, SetPage] {
        return useQueryWithPaging<{{Model}}[], {{Name}}>({{Name}}, new Paging(page, pageSize), args);
    }
{{else}}
    static use(args?: {{Name}}Arguments): [QueryResultWithState<{{Model}}>, PerformQuery<{{Name}}Arguments>] {
        return useQuery<{{Model}}, {{Name}}, {{Name}}Arguments>({{Name}}, args);
    }
{{/if}}
{{else}}
{{#if IsEnumerable}}
    static use(): [QueryResultWithState<{{Model}}[]>, PerformQuery, SetSorting] {
        return useQuery<{{Model}}[], {{Name}}>({{Name}});
    }

    static useWithPaging(page:number, pageSize: number): [QueryResultWithState<{{Model}}[]>, number, PerformQuery, SetSorting, SetPage] {
        return useQueryWithPaging<{{Model}}[], {{Name}}>({{Name}}, new Paging(page, pageSize));
    }
{{else}}
    static use(): [QueryResultWithState<{{Model}}>, PerformQuery, SetSorting] {
        return useQuery<{{Model}}, {{Name}}>({{Name}});
    }
{{/if}}
{{/if}}
}
